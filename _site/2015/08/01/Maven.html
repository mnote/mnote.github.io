<!DOCTYPE html>
<html lang="en_US">
  <head>

    

    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Maven | mnote</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Maven" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Remove .lastUpdated" />
<meta property="og:description" content="Remove .lastUpdated" />
<link rel="canonical" href="http://localhost:4000/2015/08/01/Maven.html" />
<meta property="og:url" content="http://localhost:4000/2015/08/01/Maven.html" />
<meta property="og:site_name" content="mnote" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-08-01T00:00:00+08:00" />
<script type="application/ld+json">
{"url":"http://localhost:4000/2015/08/01/Maven.html","headline":"Maven","dateModified":"2015-08-01T00:00:00+08:00","datePublished":"2015-08-01T00:00:00+08:00","description":"Remove .lastUpdated","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2015/08/01/Maven.html"},"@type":"BlogPosting","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=">
  </head>
  <body>

    <header class="page-header" role="banner">
      <h1 class="project-name">mnote</h1>
      <h2 class="project-tagline"></h2>
      
      
    </header>

    <main id="content" class="main-content" role="main">
      <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<header class="post-header">
		<time class="post-date" datetime="2015-08-01T00:00:00+08:00">Aug 01, 2015</time>
		<h1 class="post-title">Maven</h1>
	</header>
	<h3 id="remove-lastupdated">Remove .lastUpdated</h3>

<p>I use this code to delete all those .lastUpdated files</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find ~/.m2 -name *.lastUpdated -delete
</code></pre></div></div>

<p>In zsh:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rm ~/.m2/repository/**/*.lastUpdated
</code></pre></div></div>

<p>In powershell:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ls *.lastupdated -Recurse | rm
</code></pre></div></div>

<p><a href="http://stackoverflow.com/questions/2529218/maven-downloads-have-lastupdated-as-extension/2556035#2556035">Remove .lastUpdated</a></p>

<hr />

<h3 id="maven-attach-source">Maven attach source</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn clean package source:jar install


        &lt;plugin&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;
            &lt;version&gt;2.4&lt;/version&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;attach-sources&lt;/id&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;jar&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
       &lt;/plugin&gt;
</code></pre></div></div>

<h3 id="maven-jetty">maven jetty</h3>

<p><a href="http://www.mkyong.com/maven/maven-jetty-plugin-examples/">maven jetty</a></p>

<h3 id="install-file">install file</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn install:install-file -Dfile=&lt;path-to-file&gt;
</code></pre></div></div>

<p><a href="http://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html">install jars to local</a></p>

<h3 id="maven-idea">maven idea</h3>

<p><a href="http://www.diegomagalhaes.com/maven-dependency-battle-eclipse-x-intellij/">Maven Helper</a></p>

<h3 id="maven-version">maven version</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn versions:display-plugin-updates
</code></pre></div></div>

<h3 id="dependencies">dependencies</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn dependency:copy-dependencies -DoutputDirectory=${project.build.directory}/lib

mvn dependency:copy-dependencies -DoutputDirectory=./lib
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.4&lt;/version&gt;
    &lt;configuration&gt;
        &lt;archive&gt;
        &lt;manifest&gt;  
            &lt;addClasspath&gt;true&lt;/addClasspath&gt;
            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;
            &lt;mainClass&gt;MainClass&lt;/mainClass&gt;
        &lt;/manifest&gt;
    &lt;/archive&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;
&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.4&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;id&gt;copy&lt;/id&gt;
            &lt;phase&gt;install&lt;/phase&gt;
            &lt;goals&gt;
                &lt;goal&gt;copy-dependencies&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
                &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;
            &lt;/configuration&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
</code></pre></div></div>

<p><a href="http://stackoverflow.com/questions/97640/force-maven2-to-copy-dependencies-into-target-lib">copy-dependencies</a></p>

<h3 id="assembly">assembly</h3>

<p>maven-assembly-plugin</p>

<h3 id="multi-module-projects">Multi-Module Projects</h3>

<p>Maven <strong>believes</strong> the complete project, including all modules, should be located in a <strong>single</strong> repository. Modules are put in sub-directories.</p>

<p><a href="https://bryantsai.com/dont-fight-maven/">Don’t Fight Maven</a></p>

<h3 id="maven-war-overlay">Maven WAR overlay</h3>

<p>A WAR file (Web application ARchive) is very much like a Java JAR file, in that it is a ZIP file with a known internal structure.</p>

<p>An overlay of a WAR file, is simply a Maven project that uses another project’s WAR output as a dependency, rather than a project’s JAR. When the overlay project is built, the underlying project’s WAR file is exploded and files in the overlay project added to it. If an overlay project has a file with the same path and name as a file in the underlying WAR it will replace it.</p>

<p>Thus the overlay project is literally that, it is a set of files that are laid over the original WAR. Some files may be new, others will replace what was already in the WAR file.</p>

<p><a href="http://maven.apache.org/plugins/maven-war-plugin/overlays.html">Overlays</a></p>

<p><a href="http://blog.comiclee.com/2014/12/java的overlay模式">java工程的overlay部署模式</a></p>

<p><a href="http://blog.comiclee.com/?p=47">java project maven overlay</a></p>

<p><a href="http://www.eclipse.org/jetty/documentation/current/jetty-maven-plugin.html#using-overlaid-wars">jetty-maven-plugin-overlay</a></p>

<p><a href="https://github.com/iipc/openwayback/wiki/Creating-a-WAR-overlay">Creating a WAR overlay</a></p>

<p><a href="https://dzone.com/articles/mavens-war-overlay-what-are">Maven’s WAR Overlay: What are WAR Overlays?</a></p>

<p><a href="https://wiki.jasig.org/display/CASUM/Best+Practice+-+Setting+Up+CAS+Locally+using+the+Maven+WAR+Overlay+Method">Best Practice - Setting Up CAS Locally using the Maven WAR Overlay Method</a></p>

<p><a href="https://github.com/leleuj/cas-overlay-demo">cas-overlay-demo</a></p>

<p><a href="http://solutiondesign.com/blog/-/blogs/maven-overlays-an-overlooked-approach-to-sharing-front-end-code/">Maven Overlays: An Overlooked Approach to Sharing Front-End Code</a></p>

<p><a href="https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope">Maven Dependency Scope</a></p>

<p><a href="https://www.sencha.com/forum/showthread.php?179849-New-to-ExtJS-with-Maven">ExtJS with Maven war overlay</a></p>

<p><a href="http://codinghood.blogspot.hk/2013/09/jrebel-and-maven-overlays.html">jrebel-and-maven-overlays</a></p>


</article>
      <footer class="site-footer">
        
        <span class="site-footer-credits"><a id="go-top" href="#" onclick="scrollToTop();return false">This Page</a> was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>

    </main>
  </body>
</html>
